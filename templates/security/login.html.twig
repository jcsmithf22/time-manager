{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}
    <div
        class="mx-auto max-w-lg p-4 sm:px-6 lg:px-8">
        <div
            class="overflow-hidden rounded-lg border border-gray-300 shadow-[0px_2px_2px_0px_rgba(9,9,11,0.05)] bg-white p-6">
            <div
                class="flex justify-center mb-4">
                <img
                    src="{{ asset('images/logo.png') }}"
                    height="64" width="64"
                    alt="Time Manager Logo">
            </div>

            <h1 class="font-serif text-2xl tracking-tight text-center mb-2 font-medium">
                Time Manager</h1>
            <div
                class="text-gray-600 text-center mb-6">
                Login to your account
            </div>
            <form method="post">
                {% if error %}
                    <div
                        class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                {% endif %}

                {% if app.user %}
                    <div class="mb-3">
                        You are logged in
                        as {{ app.user.userIdentifier }}
                        , <a
                            href="{{ path('app_logout') }}">Logout</a>
                    </div>
                {% endif %}

                {#                <h1 class="text-lg mb-6"> #}
                {#                    Please sign in</h1> #}
                <div class="mb-6">
                    <label for="username"
                           class="label">Email</label>
                    <input type="email"
                           value="{{ last_username }}"
                           name="_username"
                           id="username"
                           class="form-control input"
                           autocomplete="email"
                           required
                           autofocus></div>

                <div class="mb-6">
                    <label for="password"
                           class="label">Password</label>
                    <input type="password"
                           name="_password"
                           id="password"
                           class="form-control input"
                           autocomplete="current-password"
                           required>
                </div>
                <div
                    class="mb-6 flex items-center mr-4">
                    <input
                        id="remember_me"
                        type="checkbox"
                        class="rounded w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                        name="_remember_me"
                        checked>
                    <label for="remember_me"
                           class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">
                        Keep me logged in
                    </label>
                </div>
                <input type="hidden"
                       name="_csrf_token"
                       value="{{ csrf_token('authenticate') }}"
                >

                {#
                Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                See https://symfony.com/doc/current/security/remember_me.html

                <div class="checkbox mb-3">
                    <input type="checkbox" name="_remember_me" id="_remember_me">
                    <label for="_remember_me">Remember me</label>
                </div>
                #}

                <button
                    class="w-full relative focus:outline-none text-white bg-black hover:bg-black/90 border border-black focus:ring-4 focus:ring-black/20 font-medium rounded-lg text-sm px-5 py-2.5 before:pointer-events-none before:absolute before:inset-0 before:rounded-[7px] before:shadow-[0px_1px_0px_0px_rgba(255,255,255,0.3)_inset]"
                    type="submit">
                    Sign in
                </button>
            </form>
            <div
                class="text-gray-600 text-sm mt-6 text-center">
                New to Time Manager?
                <a
                    href="{{ path('app_register') }}"
                    class="hover:underline">
                    Create an account.
                </a>
            </div>
        </div>
    </div>
{% endblock %}
